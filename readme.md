# 💊 智慧医疗平台 (Smart Medical Platform)

一个集成了病症查询、药品推荐、在线咨询、健康管理和医疗影像支持的一站式智慧医疗系统。

## 🎯 项目简介

本项目旨在通过集成前端 Web 服务 (Node.js/Express)、后端 AI 模型服务 (Python/Flask/FastAPI) 和用户认证服务，为用户提供便捷、个性化的医疗信息和健康服务。

**核心功能包括：**

  * **病症找药**：用户输入症状，系统即时推荐对症药品及用药指导。
  * **多身份主题**：支持成人、老年和儿童三种身份切换，以优化界面字体和颜色，提升不同群体的可读性和友好度。
  * **在线问诊**：提供预约挂号、专家咨询等服务。
  * **健康管理**：展示运动、睡眠、心率等健康数据统计。
  * **专业服务**：介绍专业医生团队，并提供预约咨询入口。
  

## 🤝 如何参与

我们正在积极开发中，欢迎：
- 提出功能建议
- 报告遇到的问题
- 参与代码贡献

1. Fork 本仓库
2. 创建分支进行开发
3. 提交 Pull Request





## 🚀 快速启动

本项目提供了一个便捷的 Python **`一键启动.py`** 脚本，用于同时启动所有必需的服务。

### 1\. 先决条件

在运行之前，请确保您的系统已安装以下环境：

  * **Python 3.8+**
  * **Node.js & npm/yarn**
  * **必需的 Python 依赖**：
      * 请确保已安装 `requirements.txt` 中列出的所有依赖。

### 2\. 安装依赖

#### Python 依赖 (后端服务)

```bash
pip install -r requirements.txt
```

**主要 Python 依赖概览：**

| 模块 | 作用 |
| :--- | :--- |
| `Flask`, `Flask_Cors` | 用于 `server.py` (AI 模型服务) 和 `ad.py` (认证服务) 的 Web 框架。 |
| `Flask-SQLAlchemy`, `PyJWT`, `Werkzeug` | 用于 `ad.py` 的数据库 ORM、JWT 认证和密码哈希。 |
| `fastapi`, `uvicorn`, `pydantic` | 用于 `main.py` 的高性能 API 框架和服务器。 |

#### Node.js 依赖 (Web 服务)

在项目根目录运行（用于安装 Express, WebSocket, 以及医学影像相关的库）：

```bash
npm install
```

**主要 Node.js 依赖概览：**

| 模块 | 作用 |
| :--- | :--- |
| `express`, `cors` | 用于创建 Web 服务器，处理 API 请求和跨域。 |
| `ws` (WebSocket) | 用于信令服务，支持视频通话等功能。 |
| `vtk.js`, `dicom-parser`, `cornerstone-core` | 用于提供医学影像相关的库支持。 |

### 3\. 一键运行

在项目根目录下运行 `一键启动.py` 脚本：

```bash
python 一键启动.py
```

该脚本将自动完成以下操作:

1.  启动 **Node.js Web 服务器** (`server.js`)，监听 **`http://localhost:3000`**。
2.  启动 **AI 模型服务** (`my_minimind/scripts/server.py`)，监听 **`http://127.0.0.1:5000`**。
3.  启动 **用户认证与云端代理服务** (`ad.py`)，监听 **`http://127.0.0.1:5001`**。
4.  等待服务启动。
5.  自动在浏览器中打开系统主页：**`http://localhost:3000/yiliao.html`**。

## ⚙️ 服务与端口

| 服务名称 | 脚本文件 | 端口 | 描述 |
| :--- | :--- | :--- | :--- |
| Web 服务/Frontend API | `server.js` | 3000 | 静态资源服务，症状找药 API，WebSocket 信令服务。 |
| AI 模型服务 | `my_minimind/scripts/server.py` | 5000 | 提供核心 AI 模型/VLM/NLP 功能 (可能为大模型推理服务)。 |
| 用户认证/代理服务 | `ad.py` | 5001 | 负责用户注册、登录、JWT 认证等功能。 |

## 📦 目录结构

```
.
├── 一键启动.py             # 一键启动所有服务的脚本
├── server.js               # Node.js Web 服务和 API (端口 3000)
├── yiliao.html             # 智慧医疗平台主页 (前端界面)
├── requirements.txt        # Python 后端依赖列表
├── drug-dataset.json       # 药品和症状数据集 (被 server.js 用于症状找药)
├── ad.py                   # Python 用户认证和代理服务 (端口 5001)
├── my_minimind/
│   └── scripts/
│       └── server.py       # Python AI 模型后端服务 (端口 5000)
└── ...                     # 其他静态资源 (CSS/JS/图片/医疗影像库文件等)
```

## 💻 前端技术栈 (yiliao.html)

  * **HTML5 & CSS3**：基础页面结构。
  * **Vanilla JavaScript**：实现身份切换、症状搜索逻辑、API 调用等。
  * **Font Awesome**：用于图标显示。
  * **API 交互**：通过 AJAX `POST` 请求调用 `http://localhost:3000/api/getDrugsBySymptom` 接口进行症状找药。

## 📝 API 接口 (由 `server.js` 提供)

### 1\. 症状找药

  * **路径**: `/api/getDrugsBySymptom`
  * **方法**: `POST`
  * **用途**: 根据用户输入的症状，查询并返回对症药品列表。
  * **请求体 (JSON)**:
    ```json
    {
        "symptom": "咳嗽"
    }
    ```
  * **响应体 (JSON)**:
    ```json
    {
        "drugs": [
            {
                "name": "川贝枇杷膏",
                "desc": "止咳化痰",
                "usage": "口服",
                "price": "¥ 35.00"
            },
            // ... 更多药品
        ]
    }
    ```

### 2\. WebSocket 信令

  * **路径**: `/` (与 HTTP/HTTPS 服务同端口)
  * **协议**: `ws://` 或 `wss://`
  * **用途**: 用于视频问诊或实时通信的信令传输。

## 📊 贡献记录

| 日期       | 贡献者 | 贡献内容 |
|------------|--------|----------|
|2025/9-12|all|撰写文档|
|2025/12/8|李一乐|完成健康咨询页面|
|2025/12/8|李一乐|完成数据报告页面|
|2025/12/8|魏思祺和李一乐|改进视频通话页面|
|2025/12/9|周昊政|完成关于我们页面|
|2025/12/8|魏思祺|本地部署大模型改进AI对话|
|2025/12/6|季仲谋|实时检测语音生成病例|
|2025/12/2|魏思祺和李一乐|概要设计文档展示讲解|
|2025/11/12|季仲谋|搜索框找药品|
|2025/11/2|季仲谋|实现登录和注册功能|
|2025/10/28|熊卓熹|完成预约挂号页面|
|2025/10/27|季仲谋|个性化切换|
|2025/10/27|熊卓熹|完成药品配送页面|
|2025/10/27|熊卓熹和李一乐|期中PPT制作和讲解|
|2025/10/25|魏思祺和季仲谋|依托服务器的AI图片识别功能，改进了视频通话|
|2025/10/20|季仲谋|主要的前端内容，添加了AI识图接口|
|2025/10/13|周昊政|作为队长组织进行雏雁申报|
|2025/10/10 |魏思祺|更新优化了readme.MD |
|2025/10/3|李一乐|构建了前端的框架|
|2025/9/30|all|正式建立此仓库，标志项目的全面启动|




*项目启动时间：2025年9月22日*  
*最后更新：2025年12月15日*

readme.md负责人:魏思祺
